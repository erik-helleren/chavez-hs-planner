Fix errors in unit tests for config system

* NOTE The unit testing code for the config system was really sloppy. I
  need to avoid the temptation to bang out code like that for the
  illusion of progress / getting things done. It would have been better
  to write less code that I could rely on and extend. Instead, now I
  have to debug everything, after I've forgotten what I was thinking
  when I wrote it.
